<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flashcards FR ‚áÑ ES</title>

    <link rel="stylesheet" href="style.css" />
    <button onclick="window.location='index.html'">Page d'accueil</button>
    <h1>Flashcards FR ‚áÑ ES</h1>
  </head>
  <body>
    <h1> <!-- ‚úÖ h1 referm√© correctement -->

    <div id="card"></div>

    <input type="text" id="answer" placeholder="Ta r√©ponse ici" />
    <button onclick="checkAnswer()">V√©rifier</button>

    <div id="feedback"></div>
    <div id="counter"></div>

    <script>
      // ‚úÖ Entr√©e = bouton
      document.getElementById("answer").addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          checkAnswer();
        }
      });

      let words = [
			[
    { fr: ["D√©jeuner"], es: "Almuerzo" },
    { fr: ["Client, Invit√©"], es: "Huesped" },
    { fr: ["Parier"], es: "Apuesta" },
    { fr: ["D√©fi"], es: "Apuesta" },
    { fr: ["D√©fi"], es: "Reto" },
    { fr: ["Se noyer"], es: "Ahogarse" },
    { fr: ["Supporter"], es: "Aguantar" },
    { fr: ["Profiter"], es: "Aprovechar" },
    { fr: ["Se coucher"], es: "Acostarse" },
    { fr: ["Se renverser"], es: "Atropellarse" },
    { fr: ["Regretter"], es: "Arrepentirse" },
    { fr: ["Auberge"], es: "Aposento" },
    { fr: ["Terrasse"], es: "Azotea" },
    { fr: ["Salle de classe"], es: "Aula" },
    { fr: ["Culotte"], es: "Braga" },
    { fr: ["Descendre"], es: "Bajar" },
    { fr: ["Idiote"], es: "Boba" },
    { fr: ["Ordure"], es: "Basura" },
    { fr: ["Mariage"], es: "Boda" },
    { fr: ["Boursier"], es: "Becado" },
    { fr: ["Cr√©ature"], es: "Bicho" },
    { fr: ["Cave(Vin)"], es: "Bodega" },
    { fr: ["Voyou"], es: "Bellaco" },
    { fr: ["Sorci√®re"], es: "Bruja" },
    { fr: ["D√©prime"], es: "Baj√≥n" },
    { fr: ["Lapin"], es: "Conejo" },
    { fr: ["Difficile"], es: "Chungo" },
    { fr: ["Shots"], es: "Chupitos" },
    { fr: ["Con"], es: "Capullo" },
    { fr: ["T√™te"], es: "Cara" },
    { fr: ["Chameau"], es: "Camello" },
    { fr: ["Jeune"], es: "Chaval" },
    { fr: ["Jaloux"], es: "Celoso" },
    { fr: ["Encaisser"], es: "Cobrar" },
    { fr: ["Blague"], es: "Chiste" },
    { fr: ["Enfant"], es: "Cria" },
    { fr: ["Gamine"], es: "Cria" },
    { fr: ["Super"], es: "Chulo" },
    { fr: ["Chouette"], es: "Chulo" },
    { fr: ["Coussin"], es: "Cogin" },
    { fr: ["R√©pondre"], es: "Contestar" },
    { fr: ["Petite sieste"], es: "Cabezadita" },
    { fr: ["F√¢ch√©"], es: "Cabreado" },
    { fr: ["Carte"], es: "Carn√©" },
    { fr: ["Bo√Æte"], es: "Caja" },
    { fr: ["Dont"], es: "Cuyo" },
    { fr: ["Canine"], es: "Colmillo" },
    { fr: ["Comm√®re"], es: "Cotilla " },
    { fr: ["Diff√©rent"], es: "Distinto" },
    { fr: ["Pr√™t"], es: "Dispuesto" },
    { fr: ["Timbre"], es: "Estampilla" },
    { fr: ["Entretien"], es: "Entrevista" },
    { fr: ["Pousser"], es: "Empujar" },
    { fr: ["Dos"], es: "Espalda" },
    { fr: ["Choisir"], es: "Escoger" },
    { fr: ["Mirage"], es: "Espejismo" },
    { fr: ["Jalousie"], es: "La envidia" },
    { fr: ["Succ√®s"], es: "√âxito" },
    { fr: ["Mousse"], es: "Espuma" },
    { fr: ["Frein, Obstacle"], es: "Estorbo" },
    { fr: ["Marche (Escalier)"], es: "Escalon" },
    { fr: ["Dehors"], es: "Fuera" },
    { fr: ["Ferme"], es: "Finca" },
    { fr: ["Autobus (AM)"], es: "Guagua" },
    { fr: ["Jumeau"], es: "Gemelo" },
    { fr: ["Blessure"], es: "Herida" },
    { fr: ["Place"], es: "Hueco" },
    { fr: ["Creux"], es: "Hueco" },
    { fr: ["Trou"], es: "Hueco" },
    { fr: ["Fum√©e"], es: "Humo" },
    { fr: ["Gla√ßon"], es: "Hielo" },
    { fr: ["Trace"], es: "Huella" },
    { fr: ["Empreinte"], es: "Huella" },
    { fr: ["Ensemble"], es: "Juntos" },
    { fr: ["Voleur"], es: "Ladron" },
    { fr: ["Cl√©"], es: "Llave" },
    { fr: ["Plein"], es: "Lleno" },
    { fr: ["Bois"], es: "Madera" },
    { fr: ["Beaucoup"], es: "Monton" },
    { fr: ["Fa√ßons"], es: "Movidas" },
    { fr: ["Moiti√©"], es: "Mitad" },
    { fr: ["Poignet"], es: "Mu√±eca" },
    { fr: ["Nouvelles"], es: "Noticias" },
    { fr: ["Centre-ville"], es: "N√∫cleo" },
    { fr: ["J‚Äôesp√®re"], es: "Ojal√°" },
    { fr: ["Fier"], es: "Orgulloso" },
    { fr: ["Attention"], es: "Ojito" },
    { fr: ["Vague"], es: "Ola" },
    { fr: ["Meuf"], es: "Pibas" },
    { fr: ["Foulard"], es: "Pa√±uelo" },
    { fr: ["Tune"], es: "Pavos" },
    { fr: ["Gars"], es: "Pavo" },
    { fr: ["Popcorn"], es: "Palomitas" },
    { fr: ["Argent"], es: "Pelas" },
    { fr: ["Branlette"], es: "Paliza" },
    { fr: ["Pas"], es: "Paso" },
    { fr: ["Cauchemar"], es: "Pesadilla" },
    { fr: ["Poussi√®re"], es: "Polvo" },
    { fr: ["Sexe"], es: "Polvo" },
    { fr: ["Vagin"], es: "Popola" },
    { fr: ["Paresse"], es: "Pereza" },
    { fr: ["Prisonnier"], es: "Preso" },
    { fr: ["Lourd"], es: "Pesado" },
    { fr: ["Masturbation"], es: "Pajear" },
    { fr: ["Prairie"], es: "Pastizal" },
    { fr: ["Un moment"], es: "Un Rato" },
    { fr: ["D√©fi"], es: "Reto" },
    { fr: ["Queue"], es: "Rabo" },
    { fr: ["Tombola"], es: "Rifa" },
    { fr: ["Peur"], es: "Susto" },
    { fr: ["S√©cher"], es: "Secar" },
    { fr: ["S√©curit√©"], es: "Segurata" },
    { fr: ["√âph√©m√®re"], es: "Efimero" },
    { fr: ["√ätre en exc√®s"], es: "Sobrar" },
    { fr: ["Stupide"], es: "Tonta" },
    { fr: ["T√¥t"], es: "Temprano" },
    { fr: ["Toit"], es: "Techo" },
    { fr: ["Couvrir"], es: "Techar" },
    { fr: ["Pi√®ge"], es: "Trampa" },
    { fr: ["Taule"], es: "Trullo" },
    { fr: ["Craindre"], es: "Temer" },
    { fr: ["Jean"], es: "Valquero" },
    { fr: ["Passer l‚Äô√©t√©"], es: "Veranear" },
    { fr: ["Salope"], es: "Zorra" },
    { fr: ["Gorge"], es: "Garganta" },
    { fr: ["Guide"], es: "Guia" },
    { fr: ["Enveloppe"], es: "Sobre" },
    { fr: ["Expert"], es: "Perito" },
    { fr: ["Trou"], es: "Agujero" },
    { fr: ["Luxe"], es: "Lujo" },
    { fr: ["Fil"], es: "Hilo" },
    { fr: ["Champignon"], es: "Hongo" },
    { fr: ["Tricheur"], es: "Transposo" },
    { fr: ["Licenciement"], es: "Desahucio" },
    { fr: ["Sous-sol"], es: "Sotano" },
    { fr: ["Route"], es: "Carretera" }];

      let currentIndex;

      function updateCounter() {
        document.getElementById("counter").textContent =`Mots restants : ${words.length}`;
      }

      function normalize(str) {
        return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
      }

      function showCard() {
        updateCounter();

        if (words.length === 0) {
          document.getElementById("card").textContent = "üéâ Tous les mots sont appris !";
          document.getElementById("counter").textContent = "‚úîÔ∏è Aucun mot restant";
          return;
        }

        currentIndex = Math.floor(Math.random() * words.length);
        let word = words[currentIndex];

        let spanishTranslation = Array.isArray(word.es) ? word.es.join(" / ") : word.es;

        document.getElementById("card").innerHTML = `
          <span class="tooltip">
            ${word.fr}
            <span class="tooltiptext">${spanishTranslation}</span>
          </span>
        `;

        const tooltip = document.querySelector(".tooltip");
        if (window.matchMedia("(hover: none) and (pointer: coarse)").matches) {
          tooltip.addEventListener("click", () => {
            tooltip.classList.toggle("show");
          });
        }
      }

      function checkAnswer() {
        if (words.length === 0) return;

        let user = normalize(document.getElementById("answer").value.trim());
        let correct = Array.isArray(words[currentIndex].es)
          ? words[currentIndex].es
          : [words[currentIndex].es];

        let isCorrect = correct.some((c) => normalize(c) === user);

        if (isCorrect) {
          document.getElementById("feedback").textContent = "‚úÖ Bravo !";
          words.splice(currentIndex, 1);
        } else {
          document.getElementById("feedback").textContent =
            "‚ùå Mauvaise r√©ponse. " + words[currentIndex].es;
        }

        document.getElementById("answer").value = "";
        showCard();
      }

      // Initialisation
      showCard();
    </script>
  </body>
</html>
